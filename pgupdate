#!/bin/bash
############# https://github.com/plexguide/PlexGuide.com/graphs/contributors ###
pgupdate_ending () {
echo ""
cat << "EOF"
[38;5;33mâ”Œ[0m[38;5;33mâ”€[0m[38;5;33mâ”€[0m[38;5;33mâ”€[0m[38;5;33mâ”€[0m[38;5;33mâ”€[0m[38;5;33mâ”€[0m[38;5;33mâ”€[0m[38;5;33mâ”€[0m[38;5;39mâ”€[0m[38;5;39mâ”€[0m[38;5;39mâ”€[0m[38;5;39mâ”€[0m[38;5;39mâ”€[0m[38;5;39mâ”€[0m[38;5;39mâ”€[0m[38;5;39mâ”€[0m[38;5;39mâ”€[0m[38;5;38mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;43mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”[0m
[38;5;33mâ”‚[0m[38;5;33mâ–‘[0m[38;5;33mâ–‘[0m[38;5;33mâ–‘[0m[38;5;33mâ–‘[0m[38;5;33mâ–‘[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;38mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;43mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;48mâ–‘[0m[38;5;48mâ”‚[0m
[38;5;33mâ”‚[0m[38;5;33mâ–‘[0m[38;5;33mâ–ˆ[0m[38;5;39mâ–€[0m[38;5;39mâ–ˆ[0m[38;5;39mâ–‘[0m[38;5;39mâ–ˆ[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;39mâ–ˆ[0m[38;5;39mâ–€[0m[38;5;38mâ–€[0m[38;5;44mâ–‘[0m[38;5;44mâ–ˆ[0m[38;5;44mâ–‘[0m[38;5;44mâ–ˆ[0m[38;5;44mâ–‘[0m[38;5;44mâ–ˆ[0m[38;5;44mâ–€[0m[38;5;44mâ–€[0m[38;5;44mâ–‘[0m[38;5;44mâ–ˆ[0m[38;5;44mâ–‘[0m[38;5;43mâ–ˆ[0m[38;5;49mâ–‘[0m[38;5;49mâ–€[0m[38;5;49mâ–ˆ[0m[38;5;49mâ–€[0m[38;5;49mâ–‘[0m[38;5;49mâ–ˆ[0m[38;5;49mâ–€[0m[38;5;49mâ–„[0m[38;5;49mâ–‘[0m[38;5;48mâ–ˆ[0m[38;5;48mâ–€[0m[38;5;48mâ–€[0m[38;5;48mâ–‘[0m[38;5;48mâ”‚[0m
[38;5;39mâ”‚[0m[38;5;39mâ–‘[0m[38;5;39mâ–ˆ[0m[38;5;39mâ–€[0m[38;5;39mâ–€[0m[38;5;39mâ–‘[0m[38;5;39mâ–ˆ[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;38mâ–‘[0m[38;5;44mâ–ˆ[0m[38;5;44mâ–€[0m[38;5;44mâ–€[0m[38;5;44mâ–‘[0m[38;5;44mâ–„[0m[38;5;44mâ–€[0m[38;5;44mâ–„[0m[38;5;44mâ–‘[0m[38;5;44mâ–ˆ[0m[38;5;44mâ–‘[0m[38;5;44mâ–ˆ[0m[38;5;43mâ–‘[0m[38;5;49mâ–ˆ[0m[38;5;49mâ–‘[0m[38;5;49mâ–ˆ[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–ˆ[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–ˆ[0m[38;5;48mâ–‘[0m[38;5;48mâ–ˆ[0m[38;5;48mâ–‘[0m[38;5;48mâ–ˆ[0m[38;5;48mâ–€[0m[38;5;48mâ–€[0m[38;5;48mâ–‘[0m[38;5;48mâ”‚[0m
[38;5;39mâ”‚[0m[38;5;39mâ–‘[0m[38;5;39mâ–€[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;38mâ–€[0m[38;5;44mâ–€[0m[38;5;44mâ–€[0m[38;5;44mâ–‘[0m[38;5;44mâ–€[0m[38;5;44mâ–€[0m[38;5;44mâ–€[0m[38;5;44mâ–‘[0m[38;5;44mâ–€[0m[38;5;44mâ–‘[0m[38;5;44mâ–€[0m[38;5;44mâ–‘[0m[38;5;43mâ–€[0m[38;5;49mâ–€[0m[38;5;49mâ–€[0m[38;5;49mâ–‘[0m[38;5;49mâ–€[0m[38;5;49mâ–€[0m[38;5;49mâ–€[0m[38;5;49mâ–‘[0m[38;5;49mâ–€[0m[38;5;49mâ–€[0m[38;5;48mâ–€[0m[38;5;48mâ–‘[0m[38;5;48mâ–€[0m[38;5;48mâ–€[0m[38;5;48mâ–‘[0m[38;5;48mâ–‘[0m[38;5;48mâ–€[0m[38;5;48mâ–€[0m[38;5;48mâ–€[0m[38;5;84mâ–‘[0m[38;5;83mâ”‚[0m
[38;5;39mâ”‚[0m[38;5;39mâ–‘[0m[38;5;39mâ–‘[0m[38;5;38mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;44mâ–‘[0m[38;5;43mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;49mâ–‘[0m[38;5;48mâ–‘[0m[38;5;48mâ–‘[0m[38;5;48mâ–‘[0m[38;5;48mâ–‘[0m[38;5;48mâ–‘[0m[38;5;48mâ–‘[0m[38;5;48mâ–‘[0m[38;5;48mâ–‘[0m[38;5;48mâ–‘[0m[38;5;84mâ–‘[0m[38;5;83mâ–‘[0m[38;5;83mâ–‘[0m[38;5;83mâ–‘[0m[38;5;83mâ”‚[0m
[38;5;38mâ””[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;44mâ”€[0m[38;5;43mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;49mâ”€[0m[38;5;48mâ”€[0m[38;5;48mâ”€[0m[38;5;48mâ”€[0m[38;5;48mâ”€[0m[38;5;48mâ”€[0m[38;5;48mâ”€[0m[38;5;48mâ”€[0m[38;5;48mâ”€[0m[38;5;48mâ”€[0m[38;5;84mâ”€[0m[38;5;83mâ”€[0m[38;5;83mâ”€[0m[38;5;83mâ”€[0m[38;5;83mâ”€[0m[38;5;83mâ”€[0m[38;5;83mâ”€[0m[38;5;83mâ”˜[0m
EOF

cat << "EOF"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        EXITING PG Version X         â”‚
â”‚ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â”‚
â”‚ Star PG:      plexguide.com/github  â”‚
â”‚ Donate:       plexguide.com/donate  â”‚
â”‚ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â”‚
â”‚ Restart PlexGuide:      plexguide   â”‚
â”‚ Update  PlexGuide:      pgupdate    â”‚
â”‚ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” â”‚
â”‚ An Original Admin9705 Project       â”‚
â”‚                                     â”‚
â”‚ Dedicated to:                       â”‚
â”‚ Deiteq, YasQueen84 & JasMarie       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
EOF
exit
}

pgupdate_start () {
rm -rf /pg/tmp/install/update
git clone -b v1 --single-branch https://github.com/plexguide/install.git /pg/tmp/install/update

cp -f /pg/tmp/install/update/pgupdate /bin/
chmod 0755 /bin/pgupdate
chown 1000:1000 /bin/pgupdate

fmt -w 79 /pg/tmp/install/update/versions > /pg/tmp/install/update/wrap
versions=$(cat /pg/tmp/install/update/wrap)

# FUNCTIONS ####################################################################
common_message() {
tee <<-EOF

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
$1
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
$2
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
EOF
}

common_header() {
tee <<-EOF

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
$1
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
EOF
}

common_number() {
  read -p 'â†˜ï¸  Type Selection | Press [Enter]: ' typed < /dev/tty
}

# EXECUTION ####################################################################
common_message "ðŸš€ PG Update Interface - ðŸ’¾ Type a Version to Update" "$versions

[Z] Exit Interface"
common_number

case $typed in
    Z ) pgupdate_ending && exit ;;
    z ) pgupdate_ending && exit ;;
    * ) a=a ;;
esac

install_version=$typed
common_header "ðŸ’¾ Install PG Version - $install_version? [y/n]"
common_number

case $typed in
    N ) pgupdate_ending && exit ;;
    n ) pgupdate_ending && exit ;;
    y ) a=a ;;
    Y ) a=a ;;
    * ) pgupdate_start && exit ;;
esac

if [[ "$install_version" == "alpha" ]]; then
sudo wget -nc https://raw.githubusercontent.com/plexguide/PlexGuide.com/alpha/mods/install/main.sh -O- | sudo bash && exit
fi

}

pgupdate_start
